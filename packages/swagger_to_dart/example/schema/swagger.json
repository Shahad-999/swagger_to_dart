{
    "openapi": "3.1.0",
    "info": {
        "title": "Restaurants",
        "version": "0.1.0"
    },
    "paths": {
        "/api/v1/auth/token": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Login For Access Token",
                "description": "Login endpoint to get an access token for future requests.",
                "operationId": "auth-login_for_access_token",
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_auth-login_for_access_token"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TokenResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/auth/refresh": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "Refresh Token",
                "description": "Refresh access token using refresh token.",
                "operationId": "auth-refresh_token",
                "parameters": [
                    {
                        "name": "refresh_token",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Refresh Token"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TokenResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/dashboard/home/overview": {
            "get": {
                "tags": [
                    "dashboard-home"
                ],
                "summary": "Get Dashboard Overview",
                "description": "Get dashboard overview statistics.\nRequires dashboard:view permission.",
                "operationId": "dashboard-home-get_dashboard_overview",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DashboardOverviewDashboardResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/home/restaurants": {
            "get": {
                "tags": [
                    "dashboard-home"
                ],
                "summary": "Get Restaurant Statistics",
                "description": "Get restaurant statistics.\nRequires dashboard:view permission.",
                "operationId": "dashboard-home-get_restaurant_statistics",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestaurantStatsDashboardResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/home/users": {
            "get": {
                "tags": [
                    "dashboard-home"
                ],
                "summary": "Get User Statistics",
                "description": "Get user statistics.\nRequires dashboard:view permission.",
                "operationId": "dashboard-home-get_user_statistics",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserStatsDashboardResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/profile": {
            "get": {
                "tags": [
                    "dashboard-profile"
                ],
                "summary": "Get Profile",
                "description": "Get the current user's profile.",
                "operationId": "dashboard-profile-get_profile",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProfileResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ]
            }
        },
        "/api/v1/dashboard/restaurants": {
            "get": {
                "tags": [
                    "dashboard-restaurants"
                ],
                "summary": "Get All Restaurants",
                "description": "Get all restaurants with pagination.\nRequires restaurants:view-all permission.",
                "operationId": "dashboard-restaurants-get_all_restaurants",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "default": 1,
                            "title": "Page"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "default": 10,
                            "title": "Per Page"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginationResponse_RestaurantResponse_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "dashboard-restaurants"
                ],
                "summary": "Create Restaurant",
                "description": "Create a new restaurant.\nRequires restaurants:manage-all permission.",
                "operationId": "dashboard-restaurants-create_restaurant",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RestaurantCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestaurantResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "dashboard-restaurants"
                ],
                "summary": "Delete All Restaurants",
                "description": "Delete all restaurants (soft delete).\nRequires restaurants:manage-all permission.\nSet force=true to include already deleted restaurants.\nReturns the number of restaurants deleted.",
                "operationId": "dashboard-restaurants-delete_all_restaurants",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "force",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": false,
                            "title": "Force"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "integer",
                                    "title": "Response Dashboard-Restaurants-Delete All Restaurants"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/dashboard/restaurants/{restaurant_id}": {
            "get": {
                "tags": [
                    "dashboard-restaurants"
                ],
                "summary": "Get Restaurant",
                "description": "Get a specific restaurant by ID.\nRequires restaurant:view permission for the specific restaurant.",
                "operationId": "dashboard-restaurants-get_restaurant",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "restaurant_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Restaurant Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestaurantResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "dashboard-restaurants"
                ],
                "summary": "Update Restaurant",
                "description": "Update a restaurant.\nRequires restaurant:manage permission for the specific restaurant.",
                "operationId": "dashboard-restaurants-update_restaurant",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "restaurant_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Restaurant Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RestaurantUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestaurantResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "dashboard-restaurants"
                ],
                "summary": "Delete Restaurant",
                "description": "Delete a restaurant.\nRequires restaurant:delete permission for the specific restaurant.",
                "operationId": "dashboard-restaurants-delete_restaurant",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "restaurant_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Restaurant Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestaurantResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/dashboard/restaurants/{restaurant_id}/restore": {
            "post": {
                "tags": [
                    "dashboard-restaurants"
                ],
                "summary": "Restore Restaurant",
                "description": "Restore a soft-deleted restaurant.\nRequires restaurants:manage-all permission.",
                "operationId": "dashboard-restaurants-restore_restaurant",
                "security": [
                    {
                        "OAuth2PasswordBearer": []
                    }
                ],
                "parameters": [
                    {
                        "name": "restaurant_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Restaurant Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestaurantResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/customers/home/home": {
            "get": {
                "tags": [
                    "customers",
                    "customer-home"
                ],
                "summary": "Get Home",
                "operationId": "customers-get_home",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HomeCustomerResponse"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AdvertisementResponse": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "title": "Id"
                    },
                    "title": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Title"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "image_url": {
                        "type": "string",
                        "title": "Image Url"
                    },
                    "link": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Link"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "image_url"
                ],
                "title": "AdvertisementResponse"
            },
            "AdvertisementsHomeSectionResponse": {
                "properties": {
                    "type": {
                        "type": "string",
                        "const": "advertisements",
                        "title": "Type",
                        "default": "advertisements"
                    },
                    "advertisements": {
                        "items": {
                            "$ref": "#/components/schemas/AdvertisementResponse"
                        },
                        "type": "array",
                        "title": "Advertisements"
                    }
                },
                "type": "object",
                "required": [
                    "advertisements"
                ],
                "title": "AdvertisementsHomeSectionResponse"
            },
            "Body_auth-login_for_access_token": {
                "properties": {
                    "username": {
                        "type": "string",
                        "maxLength": 255,
                        "title": "Username"
                    },
                    "password": {
                        "type": "string",
                        "maxLength": 255,
                        "minLength": 1,
                        "title": "Password"
                    }
                },
                "type": "object",
                "required": [
                    "username",
                    "password"
                ],
                "title": "Body_auth-login_for_access_token"
            },
            "DashboardOverviewDashboardResponse": {
                "properties": {
                    "restaurant_stats": {
                        "$ref": "#/components/schemas/RestaurantStatsDashboardResponse"
                    },
                    "user_stats": {
                        "$ref": "#/components/schemas/UserStatsDashboardResponse"
                    },
                    "last_updated": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Last Updated"
                    }
                },
                "type": "object",
                "required": [
                    "restaurant_stats",
                    "user_stats",
                    "last_updated"
                ],
                "title": "DashboardOverviewDashboardResponse"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "HomeCustomerResponse": {
                "properties": {
                    "sections": {
                        "items": {
                            "oneOf": [
                                {
                                    "$ref": "#/components/schemas/AdvertisementsHomeSectionResponse"
                                }
                            ],
                            "discriminator": {
                                "propertyName": "type",
                                "mapping": {
                                    "advertisements": "#/components/schemas/AdvertisementsHomeSectionResponse"
                                }
                            }
                        },
                        "type": "array",
                        "title": "Sections"
                    }
                },
                "type": "object",
                "required": [
                    "sections"
                ],
                "title": "HomeCustomerResponse"
            },
            "PaginationResponse_RestaurantResponse_": {
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/RestaurantResponse"
                        },
                        "type": "array",
                        "title": "Items"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total"
                    },
                    "page": {
                        "type": "integer",
                        "title": "Page"
                    },
                    "per_page": {
                        "type": "integer",
                        "title": "Per Page"
                    },
                    "total_pages": {
                        "type": "integer",
                        "title": "Total Pages"
                    }
                },
                "type": "object",
                "required": [
                    "items",
                    "total",
                    "page",
                    "per_page",
                    "total_pages"
                ],
                "title": "PaginationResponse[RestaurantResponse]"
            },
            "ProfileResponse": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "title": "Id"
                    },
                    "email": {
                        "type": "string",
                        "title": "Email"
                    },
                    "username": {
                        "type": "string",
                        "title": "Username"
                    },
                    "full_name": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Full Name"
                    },
                    "is_active": {
                        "type": "boolean",
                        "title": "Is Active"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "email",
                    "username",
                    "is_active"
                ],
                "title": "ProfileResponse"
            },
            "RestaurantCreate": {
                "properties": {
                    "name": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Name"
                    },
                    "slug": {
                        "type": "string",
                        "title": "Slug"
                    },
                    "address": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Address"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "contact": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Contact"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "slug"
                ],
                "title": "RestaurantCreate"
            },
            "RestaurantResponse": {
                "properties": {
                    "name": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Name"
                    },
                    "slug": {
                        "type": "string",
                        "title": "Slug"
                    },
                    "address": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Address"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "contact": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Contact"
                    },
                    "id": {
                        "type": "integer",
                        "title": "Id"
                    },
                    "owner_id": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Owner Id"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At"
                    },
                    "updated_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Updated At"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "slug",
                    "id"
                ],
                "title": "RestaurantResponse"
            },
            "RestaurantStatsDashboardResponse": {
                "properties": {
                    "total_restaurants": {
                        "type": "integer",
                        "title": "Total Restaurants"
                    },
                    "active_restaurants": {
                        "type": "integer",
                        "title": "Active Restaurants"
                    },
                    "restaurants_created_today": {
                        "type": "integer",
                        "title": "Restaurants Created Today"
                    },
                    "restaurants_created_this_month": {
                        "type": "integer",
                        "title": "Restaurants Created This Month"
                    }
                },
                "type": "object",
                "required": [
                    "total_restaurants",
                    "active_restaurants",
                    "restaurants_created_today",
                    "restaurants_created_this_month"
                ],
                "title": "RestaurantStatsDashboardResponse"
            },
            "RestaurantUpdate": {
                "properties": {
                    "name": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name"
                    },
                    "slug": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Slug"
                    },
                    "address": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Address"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "contact": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Contact"
                    }
                },
                "type": "object",
                "title": "RestaurantUpdate"
            },
            "TokenResponse": {
                "properties": {
                    "access_token": {
                        "type": "string",
                        "title": "Access Token"
                    },
                    "refresh_token": {
                        "type": "string",
                        "title": "Refresh Token"
                    },
                    "token_type": {
                        "type": "string",
                        "title": "Token Type"
                    }
                },
                "type": "object",
                "required": [
                    "access_token",
                    "refresh_token",
                    "token_type"
                ],
                "title": "TokenResponse"
            },
            "UserStatsDashboardResponse": {
                "properties": {
                    "total_users": {
                        "type": "integer",
                        "title": "Total Users"
                    },
                    "active_users": {
                        "type": "integer",
                        "title": "Active Users"
                    },
                    "users_created_today": {
                        "type": "integer",
                        "title": "Users Created Today"
                    },
                    "users_created_this_month": {
                        "type": "integer",
                        "title": "Users Created This Month"
                    }
                },
                "type": "object",
                "required": [
                    "total_users",
                    "active_users",
                    "users_created_today",
                    "users_created_this_month"
                ],
                "title": "UserStatsDashboardResponse"
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        },
        "securitySchemes": {
            "OAuth2PasswordBearer": {
                "type": "oauth2",
                "flows": {
                    "password": {
                        "scopes": {},
                        "tokenUrl": "/api/v1/auth/token"
                    }
                }
            }
        }
    }
}